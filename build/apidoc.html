<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/ef4/ember-browserify#readme"

    >ember-browserify (v1.1.13)</a>
</h1>
<h4>ember-cli addon for easily loading CommonJS modules from npm via browserify.</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify">module ember-browserify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify">
            function <span class="apidocSignatureSpan">ember-browserify.</span>caching_browserify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.included">
            function <span class="apidocSignatureSpan">ember-browserify.</span>included
            <span class="apidocSignatureSpan">(app)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.postprocessTree">
            function <span class="apidocSignatureSpan">ember-browserify.</span>postprocessTree
            <span class="apidocSignatureSpan">(type, tree)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stub_generator">
            function <span class="apidocSignatureSpan">ember-browserify.</span>stub_generator
            <span class="apidocSignatureSpan">(inputTree, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs">
            function <span class="apidocSignatureSpan">ember-browserify.</span>stubs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ember-browserify.</span>caching_browserify.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ember-browserify.</span>stub_generator.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ember-browserify.</span>stubs.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ember-browserify.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.caching_browserify">module ember-browserify.caching_browserify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.caching_browserify">
            function <span class="apidocSignatureSpan">ember-browserify.</span>caching_browserify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.caching_browserify.prototype">module ember-browserify.caching_browserify.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype._rebuild">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>_rebuild
            <span class="apidocSignatureSpan">(inDir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.bundler">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>bundler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.checkCache">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>checkCache
            <span class="apidocSignatureSpan">(inDir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.cleanup">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>cleanup
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.init">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>init
            <span class="apidocSignatureSpan">(inputTree, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.makeBundler">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>makeBundler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.normalizePath">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>normalizePath
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.read">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>read
            <span class="apidocSignatureSpan">(readTree)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.updateCache">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>updateCache
            <span class="apidocSignatureSpan">(destDir)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.caching_browserify.prototype.watchNodeModules">
            function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>watchNodeModules
            <span class="apidocSignatureSpan">(readTree)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>description</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.stub_generator">module ember-browserify.stub_generator</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stub_generator.stub_generator">
            function <span class="apidocSignatureSpan">ember-browserify.</span>stub_generator
            <span class="apidocSignatureSpan">(inputTree, options)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.stub_generator.prototype">module ember-browserify.stub_generator.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stub_generator.prototype.build">
            function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>build
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stub_generator.prototype.constructor">
            function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>constructor
            <span class="apidocSignatureSpan">(inputTree, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stub_generator.prototype.writeFileIfContentChanged">
            function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>writeFileIfContentChanged
            <span class="apidocSignatureSpan">(fullPath, content)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.stubs">module ember-browserify.stubs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs.stubs">
            function <span class="apidocSignatureSpan">ember-browserify.</span>stubs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ember-browserify.stubs.prototype">module ember-browserify.stubs.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs.prototype.delete">
            function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>delete
            <span class="apidocSignatureSpan">(fullPath)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs.prototype.resetStats">
            function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>resetStats
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs.prototype.set">
            function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>set
            <span class="apidocSignatureSpan">(fullPath, content)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ember-browserify.stubs.prototype.toAMD">
            function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>toAMD
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify" id="apidoc.module.ember-browserify">module ember-browserify</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify" id="apidoc.element.ember-browserify.caching_browserify">
        function <span class="apidocSignatureSpan">ember-browserify.</span>caching_browserify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Class() {
  var length = arguments.length;

  if (length === 0)      this.init();
  else if (length === 1) this.init(arguments[0]);
  else                   this.init.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.included" id="apidoc.element.ember-browserify.included">
        function <span class="apidocSignatureSpan">ember-browserify.</span>included
        <span class="apidocSignatureSpan">(app)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">included = function (app){
  var VersionChecker = require(&#x27;ember-cli-version-checker&#x27;);

  var checker = new VersionChecker(this);
  var emberCliVersion = checker.for(&#x27;ember-cli&#x27;, &#x27;npm&#x27;);
  var newImportApi;

  if (emberCliVersion.isAbove(&#x27;1.13.8&#x27;)) {
    newImportApi = true;
  }

  app = findHost.call(this);

  var enableSourcemaps = app.options.sourcemaps &#x26;&#x26; app.options.sourcemaps.enabled &#x26;&#x26; app.options.sourcemaps.extensions.indexOf(&#x27;
js&#x27;) &#x3e; -1;

  this.app = app;

  this.options = {
    root: this.app.project.root,
    browserifyOptions: app.project.config(app.env).browserify || {},
    enableSourcemap: enableSourcemaps,
    fullPaths: app.env !== &#x27;production&#x27;
  };

  app.import(&#x27;browserify/browserify.js&#x27;);
  if (app.tests &#x26;&#x26; (process.env.BROWSERIFY_TESTS || this.options.browserifyOptions.tests)) {
    if (newImportApi) {
      app.import(&#x27;browserify-tests/browserify.js&#x27;, {
        type: &#x27;test&#x27;
      });
    } else {
      app.import({
        test: &#x27;browserify-tests/browserify.js&#x27;
      });
    }
  }

  if (app.importWhitelistFilters) {
    app.importWhitelistFilters.push(function(moduleName){
      return moduleName.slice(0,4) === &#x27;npm:&#x27;;
    });
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.postprocessTree" id="apidoc.element.ember-browserify.postprocessTree">
        function <span class="apidocSignatureSpan">ember-browserify.</span>postprocessTree
        <span class="apidocSignatureSpan">(type, tree)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">postprocessTree = function (type, tree){
  var outputFile, options;
  if (type === &#x27;js&#x27;){
    outputFile = &#x27;browserify/browserify.js&#x27;;
  } else if (type === &#x27;test&#x27;){
    outputFile = &#x27;browserify-tests/browserify.js&#x27;;
  }

  if (outputFile) {
    var StubGenerator = require(&#x27;./stub-generator&#x27;);
    var CachingBrowserify = require(&#x27;./caching-browserify&#x27;);
    var MergeTrees = require(&#x27;broccoli-merge-trees&#x27;);

    options = Object.create(this.options);
    options.outputFile = outputFile;
    tree = new MergeTrees([
      tree,
      new CachingBrowserify(new StubGenerator(tree), options)
    ]);
  }
  return tree;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stub_generator" id="apidoc.element.ember-browserify.stub_generator">
        function <span class="apidocSignatureSpan">ember-browserify.</span>stub_generator
        <span class="apidocSignatureSpan">(inputTree, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StubGenerator(inputTree, options) {
  if (!(this instanceof StubGenerator)) {
    return new StubGenerator([inputTree], options);
  }

  if (Array.isArray(inputTree) || !inputTree) {
    throw new Error(&#x27;Expects one inputTree&#x27;);
  }

  Plugin.call(this, [inputTree], options);
  this._persistentOutput = true;

  // setup persistent state
  this._previousTree = new FSTree();
  this.stubs = new Stubs();

  this._fileToChecksumMap = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stubs" id="apidoc.element.ember-browserify.stubs">
        function <span class="apidocSignatureSpan">ember-browserify.</span>stubs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Stub() {
  this._isDirty = true;
  this._map = {};
  this.resetStats();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.caching_browserify" id="apidoc.module.ember-browserify.caching_browserify">module ember-browserify.caching_browserify</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.caching_browserify" id="apidoc.element.ember-browserify.caching_browserify.caching_browserify">
        function <span class="apidocSignatureSpan">ember-browserify.</span>caching_browserify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Class() {
  var length = arguments.length;

  if (length === 0)      this.init();
  else if (length === 1) this.init(arguments[0]);
  else                   this.init.apply(this, arguments);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.caching_browserify.prototype" id="apidoc.module.ember-browserify.caching_browserify.prototype">module ember-browserify.caching_browserify.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype._rebuild" id="apidoc.element.ember-browserify.caching_browserify.prototype._rebuild">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>_rebuild
        <span class="apidocSignatureSpan">(inDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_rebuild = function (inDir){
  var self = this;
  this._watchModules = Object.create(null);

  // _inputStaging needs to stay at the same path, because the
  // browserify bundler uses it as a fixed baseDir.
  rimraf.sync(this._inputStaging);
  mkdirp.sync(this._inputStaging);

  symlinkOrCopy.sync(inDir + &#x27;/&#x27; + this.inFile, this._inputStaging + &#x27;/&#x27; + this.inFile);
  quickTemp.makeOrRemake(this, &#x27;_outputCache&#x27;);
  return this.updateCache(this._outputCache).catch(function(err){
    rimraf.sync(self._outputCache);
    delete self._outputCache;
    throw err;
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
},

read: function (readTree) {
  var self = this;
  return readTree(this.inputTree).then(function(inDir){
    return self.checkCache(inDir).then(function(cacheValid){
      if (!self._outputCache || !cacheValid) {
        return self.<span class="apidocCodeKeywordSpan">_rebuild</span>(inDir);
      }
    });
  }).then(function(){
    rimraf.sync(self._destDir);
    symlinkOrCopy.sync(self._outputCache, self._destDir);
    return self.watchNodeModules(readTree).then(function(){
      return self._destDir;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.bundler" id="apidoc.element.ember-browserify.caching_browserify.prototype.bundler">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>bundler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">bundler = function () {
  if (!this._bundler) {
    this._bundler = this.makeBundler();
  }
  return this._bundler;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

  updateCache: function(destDir) {
var outPath = path.join(destDir, this.outputFile);
var self = this;
fs.mkdirSync(path.dirname(outPath));
var start = Date.now();
return new RSVP.Promise(function (resolve, reject) {
  self.<span class="apidocCodeKeywordSpan">bundler</span>().bundle(function (err, data) {
    debug(&#x27;bundle in: %dms&#x27;, Date.now() - start);
    if (err) {
      reject(err);
    } else {
      fs.writeFileSync(outPath, data);
      resolve(destDir);
    }
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.checkCache" id="apidoc.element.ember-browserify.caching_browserify.prototype.checkCache">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>checkCache
        <span class="apidocSignatureSpan">(inDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">checkCache = function (inDir) {
  var file, entry;
  var ids = Object.keys(this.cache);
  var cache = this.cache;
  var cacheValid = true;

  for (var i=0; i&#x3c;ids.length; i++) {
    entry = cache[ids[i]];
    if (!entry.file) {
      console.log(JSON.stringify(entry, null, 2));
    }
    if (entry.file.slice(0,1) === &#x27;.&#x27;) {
      file = path.join(inDir, entry.file);
    } else {
      file = entry.file;
    }
    if (hashFile(file) !== entry.hash) {
      delete cache[entry.id];
      cacheValid = false;
    }
  }
  return RSVP.resolve(cacheValid);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    rimraf.sync(this._outputCache);
  }
},

read: function (readTree) {
  var self = this;
  return readTree(this.inputTree).then(function(inDir){
    return self.<span class="apidocCodeKeywordSpan">checkCache</span>(inDir).then(function(cacheValid){
      if (!self._outputCache || !cacheValid) {
        return self._rebuild(inDir);
      }
    });
  }).then(function(){
    rimraf.sync(self._destDir);
    symlinkOrCopy.sync(self._outputCache, self._destDir);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.cleanup" id="apidoc.element.ember-browserify.caching_browserify.prototype.cleanup">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>cleanup
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">cleanup = function () {
  if (this._destDir) {
    rimraf.sync(this._destDir);
  }
  if (this._inputStaging) {
    rimraf.sync(this._inputStaging);
  }
  if (this._outputCache) {
    rimraf.sync(this._outputCache);
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.init" id="apidoc.element.ember-browserify.caching_browserify.prototype.init">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>init
        <span class="apidocSignatureSpan">(inputTree, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">init = function (inputTree, options){
  if (!options) {
    options = {};
  }
  this.inputTree = inputTree;
  this.root = options.root;
  this.inFile = options.inFile || &#x27;browserify_stubs.js&#x27;;
  this.browserifyOptions = options.browserifyOptions;
  this.enableSourcemap = options.enableSourcemap;
  this.fullPaths = typeof options.fullPaths !== &#x27;undefined&#x27; ? options.fullPaths : true;
  this.outputFile = options.outputFile || &#x27;browserify/browserify.js&#x27;;
  this.cache = {};
  quickTemp.makeOrRemake(this, &#x27;_inputStaging&#x27;);
  quickTemp.makeOrRemake(this, &#x27;_destDir&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.makeBundler" id="apidoc.element.ember-browserify.caching_browserify.prototype.makeBundler">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>makeBundler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">makeBundler = function () {
  var self = this;
  var opts = merge({
    cache: this.cache,
    packageCache: {},
    fullPaths: this.fullPaths,
    basedir: this._inputStaging,
    debug: this.enableSourcemap
  }, this.browserifyOptions);

  var b = browserify(opts);
  [&#x27;transforms&#x27;, &#x27;externals&#x27;, &#x27;ignores&#x27;, &#x27;includes&#x27;].forEach(function(thing) {
    if (!opts[thing]) { return; }
    opts[thing].forEach(function(args){
      if (!Array.isArray(args)) {
        args = [args];
      }
      // If we leave it up to browserify to load named transform
      // modules, it will load them relative to the discovered
      // source, not relative to us. So we do it here instead.
      if (thing === &#x27;transforms&#x27; &#x26;&#x26; typeof(args[0]) === &#x27;string&#x27;) {
        args[0] = require(args[0]);
      }
      b = b[thing.replace(/s$/, &#x27;&#x27;)].apply(b, args);
    });
  });
  b.add(&#x27;./&#x27; + self.inFile);

  b.on(&#x27;package&#x27;, function(pkg){
    // browserify *used to* reliably put the package&#x27;s directory in
    // pkg.__dirname. But as of browser-resolve 1.7.0 that isn&#x27;t
    // true, and we sometimes get a value here like
    // &#x27;/path/to/your-module/index&#x27; instead of
    // &#x27;/path/to/your-module&#x27;. So we do our own checking.
    var pkgDir = pkg.__dirname;
    var stat;
    try {
      stat = fs.statSync(pkgDir);
    } catch(err) {
      if (err.code !== &#x27;ENOENT&#x27;) {
        throw err;
      }
    }
    if (!stat || !stat.isDirectory()) {
      pkgDir = path.dirname(pkgDir);
    }
    self._watchModules[pkgDir] = true;
  });

  b.on(&#x27;dep&#x27;, function (dep) {
    dep.source = derequire(dep.source);
    if (typeof dep.id === &#x27;string&#x27;) {
      self.cache[dep.id] = dep;

      // Even though we have a dep.source field available, we need
      // to reread the file as it appears on disk, because
      // dep.source is post-transformed.
      var filename = dep.file;
      if (filename.slice(0,1) === &#x27;.&#x27;) {
        filename = path.join(self._inputStaging, filename);
      }
      dep.hash = helpers.hashStrings([fs.readFileSync(filename)]);
    }
  });

  if (opts.debug) {
    // Adds a semicolon to the end of the browserified code. This is required
    // to prevent unwanted interactions with other code when concatenated
    // See https://github.com/ef4/ember-browserify/issues/63
    // and https://github.com/substack/node-browserify/issues/806
    b.pipeline.get(&#x27;wrap&#x27;).push(through.obj(function (row, enc, next) {
      var contents = row.toString();
      if (contents[contents.length - 1] === &#x27;)&#x27;) {
        contents += &#x27;;&#x27;;
        this.push(contents);
      } else {
        this.push(row);
      }
      next();
    }));
  }

  return b;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    delete self._outputCache;
    throw err;
  });
},

bundler: function() {
  if (!this._bundler) {
    this._bundler = this.<span class="apidocCodeKeywordSpan">makeBundler</span>();
  }
  return this._bundler;
},

makeBundler: function() {
  var self = this;
  var opts = merge({
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.normalizePath" id="apidoc.element.ember-browserify.caching_browserify.prototype.normalizePath">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>normalizePath
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">normalizePath = function (path) {
  return (path &#x26;&#x26; path.match(/^[a-z]:\\/i)) ? path.charAt(0).toLowerCase() + path.slice(1) : path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      }
    });
  });
},

watchNodeModules: function(readTree) {
  var self = this;
  var root = self.<span class="apidocCodeKeywordSpan">normalizePath</span>(self.root);

  return mapSeries(Object.keys(self._watchModules), function(dir){
    if (!root || root.indexOf(self.normalizePath(dir)) !== 0){
      return readTree(dir);
    }
  });
},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.read" id="apidoc.element.ember-browserify.caching_browserify.prototype.read">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>read
        <span class="apidocSignatureSpan">(readTree)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">read = function (readTree) {
  var self = this;
  return readTree(this.inputTree).then(function(inDir){
    return self.checkCache(inDir).then(function(cacheValid){
      if (!self._outputCache || !cacheValid) {
        return self._rebuild(inDir);
      }
    });
  }).then(function(){
    rimraf.sync(self._destDir);
    symlinkOrCopy.sync(self._outputCache, self._destDir);
    return self.watchNodeModules(readTree).then(function(){
      return self._destDir;
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.updateCache" id="apidoc.element.ember-browserify.caching_browserify.prototype.updateCache">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>updateCache
        <span class="apidocSignatureSpan">(destDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">updateCache = function (destDir) {
  var outPath = path.join(destDir, this.outputFile);
  var self = this;
  fs.mkdirSync(path.dirname(outPath));
  var start = Date.now();
  return new RSVP.Promise(function (resolve, reject) {
    self.bundler().bundle(function (err, data) {
      debug(&#x27;bundle in: %dms&#x27;, Date.now() - start);
      if (err) {
        reject(err);
      } else {
        fs.writeFileSync(outPath, data);
        resolve(destDir);
      }
    });
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  // _inputStaging needs to stay at the same path, because the
  // browserify bundler uses it as a fixed baseDir.
  rimraf.sync(this._inputStaging);
  mkdirp.sync(this._inputStaging);

  symlinkOrCopy.sync(inDir + &#x27;/&#x27; + this.inFile, this._inputStaging + &#x27;/&#x27; + this.inFile);
  quickTemp.makeOrRemake(this, &#x27;_outputCache&#x27;);
  return this.<span class="apidocCodeKeywordSpan">updateCache</span>(this._outputCache).catch(function(err){
    rimraf.sync(self._outputCache);
    delete self._outputCache;
    throw err;
  });
},

bundler: function() {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.caching_browserify.prototype.watchNodeModules" id="apidoc.element.ember-browserify.caching_browserify.prototype.watchNodeModules">
        function <span class="apidocSignatureSpan">ember-browserify.caching_browserify.prototype.</span>watchNodeModules
        <span class="apidocSignatureSpan">(readTree)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">watchNodeModules = function (readTree) {
  var self = this;
  var root = self.normalizePath(self.root);

  return mapSeries(Object.keys(self._watchModules), function(dir){
    if (!root || root.indexOf(self.normalizePath(dir)) !== 0){
      return readTree(dir);
    }
  });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
      if (!self._outputCache || !cacheValid) {
        return self._rebuild(inDir);
      }
    });
  }).then(function(){
    rimraf.sync(self._destDir);
    symlinkOrCopy.sync(self._outputCache, self._destDir);
    return self.<span class="apidocCodeKeywordSpan">watchNodeModules</span>(readTree).then(function(){
      return self._destDir;
    });
  });
},

_rebuild: function(inDir){
  var self = this;
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.stub_generator" id="apidoc.module.ember-browserify.stub_generator">module ember-browserify.stub_generator</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.stub_generator.stub_generator" id="apidoc.element.ember-browserify.stub_generator.stub_generator">
        function <span class="apidocSignatureSpan">ember-browserify.</span>stub_generator
        <span class="apidocSignatureSpan">(inputTree, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StubGenerator(inputTree, options) {
  if (!(this instanceof StubGenerator)) {
    return new StubGenerator([inputTree], options);
  }

  if (Array.isArray(inputTree) || !inputTree) {
    throw new Error(&#x27;Expects one inputTree&#x27;);
  }

  Plugin.call(this, [inputTree], options);
  this._persistentOutput = true;

  // setup persistent state
  this._previousTree = new FSTree();
  this.stubs = new Stubs();

  this._fileToChecksumMap = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.stub_generator.prototype" id="apidoc.module.ember-browserify.stub_generator.prototype">module ember-browserify.stub_generator.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.stub_generator.prototype.build" id="apidoc.element.ember-browserify.stub_generator.prototype.build">
        function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>build
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">build = function () {
  var start = Date.now();
  var inputPath = this.inputPaths[0];
  var previous  = this._previousTree;

  // get patchset
  var input = walkSync.entries(inputPath, [ &#x27;**/*.js&#x27; ]);

  debug(&#x27;input: %d&#x27;, input.length);

  var next = this._previousTree = FSTree.fromEntries(input);
  var patchset = previous.calculatePatch(next);

  debug(&#x27;patchset: %d&#x27;, patchset.length);

  var applyPatch = Date.now();

  // process patchset
  patchset.forEach(function(patch) {
    var operation = patch[0];
    var path      = patch[1];
    var fullPath  = inputPath + &#x27;/&#x27; + path;

    switch (operation) {
      case &#x27;unlink&#x27;: this.stubs.delete(fullPath); break;
      case &#x27;create&#x27;:
      case &#x27;change&#x27;: this.stubs.set(fullPath, fs.readFileSync(fullPath)); break;
    }
  }, this);

  debug(&#x27;patched applied in: %dms&#x27;, Date.now() - applyPatch);

  // apply output
  this.writeFileIfContentChanged(this.outputPath + &#x27;/browserify_stubs.js&#x27;, this.stubs.toAMD());

  debug(&#x27;build in %dms&#x27;, Date.now() - start);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stub_generator.prototype.constructor" id="apidoc.element.ember-browserify.stub_generator.prototype.constructor">
        function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>constructor
        <span class="apidocSignatureSpan">(inputTree, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function StubGenerator(inputTree, options) {
  if (!(this instanceof StubGenerator)) {
    return new StubGenerator([inputTree], options);
  }

  if (Array.isArray(inputTree) || !inputTree) {
    throw new Error(&#x27;Expects one inputTree&#x27;);
  }

  Plugin.call(this, [inputTree], options);
  this._persistentOutput = true;

  // setup persistent state
  this._previousTree = new FSTree();
  this.stubs = new Stubs();

  this._fileToChecksumMap = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stub_generator.prototype.writeFileIfContentChanged" id="apidoc.element.ember-browserify.stub_generator.prototype.writeFileIfContentChanged">
        function <span class="apidocSignatureSpan">ember-browserify.stub_generator.prototype.</span>writeFileIfContentChanged
        <span class="apidocSignatureSpan">(fullPath, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">writeFileIfContentChanged = function (fullPath, content) {
  var previous = this._fileToChecksumMap[fullPath];
  var next = md5Hex(content);

  if (previous === next) {
    debug(&#x27;cache hit, no change to: %s&#x27;, fullPath);
    // hit
  } else {
    debug(&#x27;cache miss, write to: %s&#x27;, fullPath);
    fs.writeFileSync(fullPath, content);
    this._fileToChecksumMap[fullPath] = next; // update map
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case &#x27;change&#x27;: this.stubs.set(fullPath, fs.readFileSync(fullPath)); break;
  }
}, this);

debug(&#x27;patched applied in: %dms&#x27;, Date.now() - applyPatch);

// apply output
this.<span class="apidocCodeKeywordSpan">writeFileIfContentChanged</span>(this.outputPath + &#x27;/browserify_stubs.js&#x27;, this
.stubs.toAMD());

debug(&#x27;build in %dms&#x27;, Date.now() - start);
};

StubGenerator.prototype.writeFileIfContentChanged = function(fullPath, content) {
var previous = this._fileToChecksumMap[fullPath];
var next = md5Hex(content);
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.stubs" id="apidoc.module.ember-browserify.stubs">module ember-browserify.stubs</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.stubs.stubs" id="apidoc.element.ember-browserify.stubs.stubs">
        function <span class="apidocSignatureSpan">ember-browserify.</span>stubs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Stub() {
  this._isDirty = true;
  this._map = {};
  this.resetStats();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ember-browserify.stubs.prototype" id="apidoc.module.ember-browserify.stubs.prototype">module ember-browserify.stubs.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.ember-browserify.stubs.prototype.delete" id="apidoc.element.ember-browserify.stubs.prototype.delete">
        function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>delete
        <span class="apidocSignatureSpan">(fullPath)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">delete = function (fullPath) {
  this._stats.deletions++;

  if (fullPath in this._map) {
    delete this._map[fullPath];
    this._isDirty = true;
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// process patchset
patchset.forEach(function(patch) {
  var operation = patch[0];
  var path      = patch[1];
  var fullPath  = inputPath + &#x27;/&#x27; + path;

  switch (operation) {
    case &#x27;unlink&#x27;: this.stubs.<span class="apidocCodeKeywordSpan">delete</span>(fullPath); break;
    case &#x27;create&#x27;:
    case &#x27;change&#x27;: this.stubs.set(fullPath, fs.readFileSync(fullPath)); break;
  }
}, this);

debug(&#x27;patched applied in: %dms&#x27;, Date.now() - applyPatch);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stubs.prototype.resetStats" id="apidoc.element.ember-browserify.stubs.prototype.resetStats">
        function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>resetStats
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resetStats = function () {
  this._stats = {
    deletions: 0,
    sets: 0,
    importTime: 0
  };
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
module.exports = Stub;
var acorn = require(&#x27;acorn&#x27;);
var debug = require(&#x27;debug&#x27;)(&#x27;ember-browserify:stubs&#x27;);

function Stub() {
this._isDirty = true;
this._map = {};
this.<span class="apidocCodeKeywordSpan">resetStats</span>();
}

Stub.prototype.resetStats = function() {
this._stats = {
  deletions: 0,
  sets: 0,
  importTime: 0
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stubs.prototype.set" id="apidoc.element.ember-browserify.stubs.prototype.set">
        function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>set
        <span class="apidocSignatureSpan">(fullPath, content)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (fullPath, content) {
  this._isDirty = true;
  var start = Date.now();
  this._map[fullPath] = importsFor(content, fullPath);
  this._stats.importTime += (Date.now() - start);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  var operation = patch[0];
  var path      = patch[1];
  var fullPath  = inputPath + &#x27;/&#x27; + path;

  switch (operation) {
    case &#x27;unlink&#x27;: this.stubs.delete(fullPath); break;
    case &#x27;create&#x27;:
    case &#x27;change&#x27;: this.stubs.<span class="apidocCodeKeywordSpan">set</span>(fullPath, fs.readFileSync(fullPath)); break
;
  }
}, this);

debug(&#x27;patched applied in: %dms&#x27;, Date.now() - applyPatch);

// apply output
this.writeFileIfContentChanged(this.outputPath + &#x27;/browserify_stubs.js&#x27;, this.stubs.toAMD());
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ember-browserify.stubs.prototype.toAMD" id="apidoc.element.ember-browserify.stubs.prototype.toAMD">
        function <span class="apidocSignatureSpan">ember-browserify.stubs.prototype.</span>toAMD
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toAMD = function () {
  debug(&#x22;%o&#x22;, this._stats);
  debug(&#x22;isDirty&#x22;, this._dirty);
  this.resetStats();

  if (this._isDirty === false) {
    return this._amd;
  }

  this._isDirty = false;

  var imports = {};

  // find unique modules
  Object.keys(this._map).forEach(function(filePath) {
    (Object.keys(this._map[filePath] || {})).forEach(function(moduleName) {
      imports[moduleName] = true;
    });
  }, this);

  // generate stub
  this._amd = Object.keys(imports).sort().map(function(moduleName) {
    return &#x22;define(&#x27;npm:&#x22; + moduleName + &#x22;&#x27;, function(){ return { &#x27;default&#x27;: require(&#x27;&#x22; + moduleName + &#x22;&#x27;)};})&#x22;;
  }).join(&#x22;\n&#x22;);

  return this._amd;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    case &#x27;change&#x27;: this.stubs.set(fullPath, fs.readFileSync(fullPath)); break;
  }
}, this);

debug(&#x27;patched applied in: %dms&#x27;, Date.now() - applyPatch);

// apply output
this.writeFileIfContentChanged(this.outputPath + &#x27;/browserify_stubs.js&#x27;, this.stubs.<span class="apidocCodeKeywordSpan
">toAMD</span>());

debug(&#x27;build in %dms&#x27;, Date.now() - start);
};

StubGenerator.prototype.writeFileIfContentChanged = function(fullPath, content) {
var previous = this._fileToChecksumMap[fullPath];
var next = md5Hex(content);
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
